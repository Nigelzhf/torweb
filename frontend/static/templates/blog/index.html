{% extends "./base.html" %}

{% block title %}Tornado.Post.Detail{% end %}

{% block styles %}
<link href="/assets/css/font-awesome.min.css" rel="stylesheet">
<script type="text/javascript">
</script>
{% end %}

{% block content %}
    <div class="content-container container">
        <div class="side">
            <div class="card custom-card">
                <div class="card-header">
                    分类
                </div>
                <div class="card-block">
                    <ul class="">
                        {% for cate in categorys %}
                        <li><a href="">{{ cate.name }}</a></li>
                        {% end %}
                        <li><a href="">Greenlet源码分析</a></li>
                        <li><a href="">后端高性能编程</a></li>
                    </ul>
                </div>
                <div class="card-header">
                    标签
                </div>
                <div class="post-label card-block">
                    <ul class="list-inline">
                        {% for label in labels %}
                        <li><a href="">{{ label.name }}</a></li>
                        {% end %}
                        <li><a href="">Greenlet源码分析</a></li>
                        <li><a href="">后端高性能编程</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="content">
            <div class="post-list">
                {% for post in posts %}
                <div class="post-item">
                    <div class="post-title"><a href="/blog/{{ post.id }}">{{ post.title }}</a></div>
                    <div class="post-info">
                        <span class="post-info-time">{{ post.create_time }}</span>
                    </div>
                    <div class="post-summary">
                        {{ post.content[:100] }}
                    </div>
                    <div class="post-function">
                        <span class="post-function-read-more">Read More</span>
                    </div>
                </div>
                {% end %}
                <div class="post-item">
                    <div class="post-title">正则表达式备忘录</div>
                    <div class="post-info">
                        <span class="post-info-time">Sep 13, 2016</span>
                    </div>
                    <div class="post-summary">
                        JavaScript 创建正则表达式有两种方式：
                        使用正则表达式字面量：var re = /abc/;
                        调用 RegExp 对象的构造函数：var re = new RegExp("abc");
                        什么时候使用构造函数？

                        当正则表达式的模式会变发生改变，或者需要从其他地方得到时（例如用户输入），适合使用构造函数的方式。
                    </div>
                    <div class="post-function">
                        <span class="post-function-read-more">Read More</span>
                    </div>
                </div>
                <div class="post-item">
                    <div class="post-title">正则表达式备忘录</div>
                    <div class="post-info">
                        <span class="post-info-time">Sep 13, 2016</span>
                    </div>
                    <div class="post-summary">
                        JavaScript 创建正则表达式有两种方式：
                        使用正则表达式字面量：var re = /abc/;
                        调用 RegExp 对象的构造函数：var re = new RegExp("abc");
                        什么时候使用构造函数？

                        当正则表达式的模式会变发生改变，或者需要从其他地方得到时（例如用户输入），适合使用构造函数的方式。
                    </div>
                    <div class="post-function">
                        <span class="post-function-read-more">Read More</span>
                    </div>
                </div>
            </div>
            <nav style="text-align:center">
                <ul class="pagination">
                <li class="page-item">
                    <a class="page-link" href="{{pages_prefix_url}}{{pages['cp-1'] if pages['cp-1'] else pages['cp']}}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                        <span class="sr-only">Previous</span>
                    </a>
                </li>
                <!-- 这里如果换成列表存放数据，这里直接使用for就可以了，但是字典表意更明确一点 -->
                {% if pages['cp-2'] %}
                <li class="page-item"><a class="page-link" href="{{pages_prefix_url}}{{pages['cp-2']}}">{{pages['cp-2']}}</a></li>
                {% end %}
                {% if pages['cp-1'] %}
                <li class="page-item"><a class="page-link" href="{{pages_prefix_url}}{{pages['cp-1']}}">{{pages['cp-1']}}</a></li>
                {% end %}
                <li class="page-item"><a class="page-link" href="{{pages_prefix_url}}{{pages['cp']}}">{{pages['cp']}}</a></li>
                {% if pages['cp+1'] %}
                <li class="page-item"><a class="page-link" href="{{pages_prefix_url}}{{pages['cp+1']}}">{{pages['cp+1']}}</a></li>
                {% end %}
                {% if pages['cp+2'] %}
                <li class="page-item"><a class="page-link" href="{{pages_prefix_url}}{{pages['cp+2']}}">{{pages['cp+2']}}</a></li>
                {% end %}
                <li class="page-item">
                    <a class="page-link" href="{{pages_prefix_url}}{{pages['cp+1'] if pages['cp+1'] else pages['cp']}}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                        <span class="sr-only">Next</span>
                    </a>
                </li>
                </ul>
            </nav>
        </div>

    </div>
{% end %}