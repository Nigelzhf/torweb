function monitor_system_status(){$.ajax({type:"get",dataType:"json",url:"/api/systemstatus",success:function(e,o){if(0==e.errorcode){var e=e.data;console.log(e),$(".cpu-per").html(e.cpu_per+"%"),$(".ram-per").html(e.ram_per+"%"),$(".net-conn").html(e.net_conn),$(".os-start").html(e.os_start)}}}),setTimeout(monitor_system_status,5e3)}function change_image_preview(){var e=document.getElementById("avatar-preview"),o=document.getElementById("avatar");console.log(e),console.log(o);var t=o.value.substring(o.value.lastIndexOf(".")+1).toLowerCase();if("png"!=t&&"jpg"!=t&&"jpeg"!=t)return void alert("文件必须为图片！");if(document.all){o.select();var a=document.selection.createRange().text,n=/msie 6/i.test(navigator.userAgent);n?e.src=a:(e.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod='image',src=\""+a+'")',e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==")}else html5Reader(o)}function html5Reader(e){var e=e.files[0],o=new FileReader;o.readAsDataURL(e),o.onload=function(e){var o=document.getElementById("avatar-preview");o.src=this.result}}function index_show_hide_cate_nav(){$(".card-header-all-bt").mouseenter(function(e){$(".card-header-all").css("display","block")}),$(".card-header").mouseleave(function(e){$(".card-header-all").css("display","none")}),$(".card-header-all").mouseenter(function(e){$(".card-header-all").css("display","block")}).mouseleave(function(e){$(".card-header-all").css("display","none")})}function post_new_show_hide_cate(){$(".post-new-html #topic").on("click",function(e){$(".card-header-all").css("display","block")}),$(".post-new-html .card-header-all-cate a").on("click",function(e){$(".card-header-all").css("display","none"),$("#topic").val($(this).html())})}function show_hide_emoji_list(){$("#emoji-btn").on("mousedown",function(e){$("#summernote").summernote("saveRange")}).on("click",function(e){e.preventDefault(),e.stopPropagation(),$("#emoji-list").css("display","block")})}function add_action_emoji_img(){$("#emoji-list img.emoji").on("click",function(e){console.log("test");var o=$("#summernote");o.summernote("restoreRange"),o.summernote("insertImage",e.target.src,function(e){e.addClass("emoji"),e.css("width","20px")})})}function add_action_emoji_char(){$("#emoji-list li.emoji").on("click",function(e){var o=$("#summernote");o.summernote("restoreRange");var t=$('<span class="emoji">'+window.emojiJSON[e.target.attributes.em.value]["char"]+"</span>");o.summernote("insertNode",t[0])})}function load_emoji(){for(var e=["smile","blush","grin","heart_eyes","relaxed","sweat_smile","joy","flushed","confused","unamused","sob","cold_sweat","sweat","scream","sleepy","mask"],o=0;o<e.length;o++)$("#emoji-list").append('<img class="emoji" src="/static/images/emoji/basic/'+e[o]+'.png">');add_action_emoji_img(),$.getJSON("/static/images/emoji/emojis.json",function(e){window.emojiJSON=e,$("#emoji-list").append('<li class="emoji" em="heart">'+emojiJSON.heart["char"]+"</li>"),add_action_emoji_char()})}$(document).on("mouseover",".dropdown",function(){$(this).find(".dropdown-menu").show()}),$(document).on("mouseout",".dropdown",function(){$(this).find(".dropdown-menu").hide()}),$(document).click(function(){$("#emoji-list").is(":hidden")||$("#emoji-list").hide()});